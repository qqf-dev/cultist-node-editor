/* 连接线样式 */
.connection-path {
    fill: none;
    stroke: #4a90e2;
    stroke-width: 12;
    stroke-linecap: round;
    stroke-linejoin: round;
    transition: stroke 0.3s ease, stroke-width 0.2s ease;
    pointer-events: stroke;
    cursor: pointer;
    opacity: 0.9;
}

.connection-path:hover {
    stroke: #5ba3f5;
    stroke-width: 4;
    filter: drop-shadow(0 0 3px rgba(74, 144, 226, 0.5));
}

.connection-path.permanent-connection {
    stroke: #4a90e2;
    stroke-width: 3;
}


.connection-path.temp-connection {
    stroke: #4a90e2;
    stroke-width: 3;
    stroke-dasharray: 8, 6;
    opacity: 0.8;
}

.connection-path.connection-hover {
    stroke: #5ba3f5;
    stroke-width: 4;
    filter: drop-shadow(0 0 4px rgba(74, 144, 226, 0.6));
}

/* 高亮连接线样式 - 覆盖永久连接线样式 */
.connection-path.permanent-connection.highlighted {
    stroke: #ff9800;
    stroke-width: 3;
    opacity: 1;
    filter: drop-shadow(0 0 6px rgba(255, 152, 0, 0.8));
    animation: pulse-highlight 2s infinite;
    z-index: 1001;
}

/* 淡化连接线样式 - 覆盖永久连接线样式 */
.connection-path.permanent-connection.dimmed {
    stroke: #4a91e26d;
    stroke-width: 3;
    opacity: 1;
}

/* 高亮动画效果 */
@keyframes pulse-highlight {

    0%,
    100% {
        stroke-width: 3;
        filter: drop-shadow(0 0 6px rgba(255, 152, 0, 0.5));
    }

    50% {
        stroke-width: 3.5;
        filter: drop-shadow(0 0 10px rgba(255, 152, 0, 0.9));
    }
}

/* 临时连接线不应用高亮或淡化效果 */
.connection-path.temp-connection {
    stroke: #4a90e2;
    stroke-width: 3;
    stroke-dasharray: 8, 6;
    opacity: 0.8;
}


/* 连接线悬停时，如果是淡化状态，也应有基本悬停效果 */
.connection-path.permanent-connection.dimmed:hover {
    stroke: #5ba3f5;
    stroke-width: 2;
    opacity: 0.5;
    filter: drop-shadow(0 0 3px rgba(74, 144, 226, 0.5));
}

/* 连接线悬停时，如果是高亮状态，加强悬停效果 */
.connection-path.permanent-connection.highlighted:hover {
    stroke: #ff5722;
    stroke-width: 4;
    filter: drop-shadow(0 0 8px rgba(255, 87, 34, 0.8));
}

/* 隐藏连接线的辅助类 */
.hide-connections .connection-path {
    display: none;
}
